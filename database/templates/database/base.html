<!DOCTYPE html>
{% load staticfiles %}
{% load i18n %}
<html>
    <head>
        <link rel="icon" href="{% static "favicon.ico" %}">
        <title>SIMSSA Database</title>
        <!-- Latest compiled and minified CSS -->
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">

        <!-- Optional theme -->
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap-theme.min.css" integrity="sha384-rHyoN1iRsVXV4nD0JutlnGaslCJuC7uwjduW9SVrLvRYooPp2bWYgmgJQIXwl/Sp" crossorigin="anonymous">

        {# MEDIUM STYLE EDITOR#}
        <script src="//cdn.jsdelivr.net/medium-editor/latest/js/medium-editor.min.js"></script>
        <link rel="stylesheet" href="//cdn.jsdelivr.net/medium-editor/latest/css/medium-editor.min.css" type="text/css" media="screen" charset="utf-8">


        {# Custom CSS#}
        <link rel="stylesheet" href="{% static 'css/simssadb.css' %}">

        {# Fonts#}
        {# <link href="https://fonts.googleapis.com/css?family=Montserrat|Russo+One" rel="stylesheet"> #}

        <!-- all these css files gives you a RANGE of classes which you can call to decorate any html style to make into the style you want -->
         <script type='text/javascript' src="{% static "js/jquery-1.11.3.min.js" %}"></script>
         <script type='text/javascript' src="{% static "js/plugins.js" %}"></script>
         <script type='text/javascript' src="{% static "bootstrap/js/bootstrap.min.js" %}"></script>

<body class='loader'>

<div id="wrapper">
  <nav class="navbar navbar-default custom-navbar">  {# nav has four css styles, some of them are predefined in the referred online CSS files, the other is defined in your customized css file #}
    <div class="container">


      <ul class="nav navbar-nav">
        {# <li><a class='navbar-brand bigbrand' href="{% url 'post_list' %}">My blog</a></li> #}
        <li><a class="navbar-brand" href="{% url 'home'%}">SIMSSA Database</a></li>
        <li>
          <a href="{% url 'about' %}" >{% trans "About"%}</a> </li> <!--# go to this url (by matching the template)-->
      <li>
          <a href="{% url 'search' %}" >{% trans "Search"%}</a> </li> <!--# go to this url (by matching the template)-->
      <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown"> {% trans "Browse" %} <span class="caret"></span></a>
                    <ul class="dropdown-menu">
                        <li><a href={% url 'person-list' %}>{% trans "Composers"%}</a></li>
                        <li><a href={% url 'genre-list' %}>{% trans "Genres"%}</a></li>
                        <li><a href={% url 'musicalwork-list' %}>{% trans "Pieces"%}</a></li>
                        <li><a href={% url 'instrument-list' %}>{% trans "Instruments"%}</a></li>
                        <li><a href={% url 'institution-list' %}>{% trans "Institutions"%}</a></li>
                        <li><a href={% url 'section-list' %}>{% trans "Sections"%}</a></li>
                    </ul>
                </li>
          {% if user.is_authenticated %}
        <li>
          <a href="{% url 'piece_new' %}" >{% trans "Create Pieces"%}</a>  <!--# go to this url (by matching the template)-->
        </li>
          {% endif %}
      </ul>

      <ul class="nav navbar-nav navbar-right custom-navbar"> {# If adding a css style does not change the page, that might mean there is a more general style being applied, and we need to delete that style first #}
        {% if user.is_authenticated %}

            <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">{% trans "Account:"%} {{ user.username }} <span class="caret"></span></a>
                    <ul class="dropdown-menu">
                        <li><a href="#">{% trans "My Profile"%} </a></li>
                        <li><a href="#">{% trans "My Collections"%}</a></li>
                        <li><a href="#">{% trans "My Pieces"%}</a></li>
                        <li><a href={% url 'logout' %}>{% trans "Logout"%}</a></li>
                    </ul>
                </li>
          {% else %}
          <li><a href="{% url 'login' %}" >{% trans "Login"%}</a></li>
        {% endif %}
         <li>
            <form  style="padding: 15px 15px 15px 15px;" action="{% url 'set_language' %}" method="post">
            {% csrf_token %}
            <input name="next" type="hidden" value="{{ redirect_to }}" />
            <select name="language" onchange="this.form.submit()">  {# somehow the style won't apply to select, but apply to form and li #}
                {% get_current_language as LANGUAGE_CODE %}
                {% get_available_languages as LANGUAGES %}
                {% for lang in LANGUAGES %}
                    <option value="{{ lang.0 }}" type="submit" {% if lang.0 == LANGUAGE_CODE %} selected="selected"{% endif %}>
                        {{ lang.1 }} ({{ lang.0 }})
                    </option>
                {% endfor %}
            </select>
            </form>
         </li>
  </div>
</nav>
        <div class="content container">
            <div class="row">
                <div class="col-md-8">
                  <div class="blog_posts">
                    {% block content %}  <!-- Insert specific info here on different pages -->
                    {% endblock %}
                  </div>
                </div>
            </div>
        </div>
        <div id="footer">
        <div class="footer">
            <div class="text-muted text-center">
                <hr>
                <ul class="menu">
                    <li class="first"><a href="http://mcgill.ca" target="_blank">McGill University</a></li>
                    <li><a href="http://www.mcgill.ca/music/" target="_blank">Schulich School of Music</a></li>
                    <li><a href="http://www.cirmmt.org" target="_blank">CIRMMT</a></li>
                    <li><a href="http://simssa.ca" target="_blank">SIMSSA</a></li>
                    <li><a href="http://elvisproject.ca" target="_blank">ELVIS Project</a></li>

                </ul>
                <div class="date">
                    <ul class="menu">
                        <li class="last">{% trans "Last Updated:"%} {% now "M Y" %}</li>
                    </ul>
                </div>
            </div>
        </div>
    </div>
</div>
{# SCRIPTS#}
</body>
</html>
